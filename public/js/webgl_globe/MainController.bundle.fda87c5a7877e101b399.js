(window.webpackJsonp=window.webpackJsonp||[]).push([["MainController"],{320:function(t,e,s){"use strict";s.r(e),s.d(e,"MainController",(function(){return I}));var o=s(3),i=s(6),a=s(54);class n{constructor(t){this.main_controller=t,this.bg_node_original_opacity=0,this.sphere_original_opacity=a.a.not_transparent()?1:.75,this.scene=this.main_controller.scene,this.bg_node=this.scene.node("/MAT/mesh_basic_BG"),this.bg=this.bg_node.material,this.sphere_node=this.scene.node("/MAT/mesh_lambert_SPHERE"),this.sphere=this.sphere_node.material;const e=this.scene.node("/MAT/mesh_basic_builder_ARCS");this.arcs=e.material;const s=this.scene.node("/MAT/mesh_basic_builder_SELECTED_DOTS");this.selected_dots=s.material;const o=this.scene.node("/MAT/mesh_basic_builder_DOTS");this.dots=o.material;const i=this.scene.node("/MAT/mesh_basic_builder_DOTS_intro");this.dots_intro=i.material,this.role_colors=[this.selected_dots.uniforms.v_POLY_param_color_role0_val.value,this.selected_dots.uniforms.v_POLY_param_color_role1_val.value,this.selected_dots.uniforms.v_POLY_param_color_role2_val.value,this.selected_dots.uniforms.v_POLY_param_color_role3_val.value,this.selected_dots.uniforms.v_POLY_param_color_role4_val.value,this.selected_dots.uniforms.v_POLY_param_color_role5_val.value];const n=this.scene.node("/MAT/mesh_basic_builder_pulse_shadow");this.pulse_shadow=n.material}async init(){this.reset()}reset(){this.bg_node_original_opacity=this.bg_node.p.opacity.value,this.bg_node.p.opacity.set(0),this.sphere_node.p.opacity.set(0),this.arcs.uniforms.v_POLY_param_threshold_val.value=0,this.selected_dots.uniforms.v_POLY_param_threshold_val.value=0,this.arcs.uniforms.v_POLY_param_visibles_count_val.value=n.VISIBLE_ARCS_COUNT,this.selected_dots.uniforms.v_POLY_param_visibles_count_val.value=n.VISIBLE_DOTS_COUNT,this.dots.uniforms.v_POLY_param_sparkle_center_val.value.set(0,10,0),this.dots.uniforms.v_POLY_param_sparkle_color_val.value.r=1,this.dots.uniforms.v_POLY_param_sparkle_color_val.value.g=0,this.dots.uniforms.v_POLY_param_sparkle_color_val.value.b=0,this.dots.uniforms.v_POLY_param_sparkle_intensity_val.value=0,this.dots.uniforms.v_POLY_param_sparkle_radius_val.value=0}static reset_pulse_mat(t){t.uniforms.v_POLY_param_radius_val.value=0,t.uniforms.v_POLY_param_baseopacity_val.value=this.PULSE_OPACITY_START}set_dots_to_intro_mat(){this._set_mat_to_objects(this.main_controller.objects.dots,this.main_controller.materials.dots_intro)}set_dots_to_default_mat(){this._set_mat_to_objects(this.main_controller.objects.dots,this.main_controller.materials.dots)}_set_mat_to_objects(t,e){for(let s of t)s.material=e}}n.VISIBLE_DOTS_COUNT=2,n.VISIBLE_ARCS_COUNT=1,n.PULSE_OPACITY_START=.8;class _{static relative_to_end_of_timeline(t){return t>0?"+="+t:"-="+Math.abs(t)}static at_start_of_most_recently_added_animation(){return"<"}static at_end_of_most_recently_added_animation(){return">"}static relative_to_start_of_recently_added_animation(t){return 0==t?this.at_start_of_most_recently_added_animation():t>0?"<+"+t:"<-"+Math.abs(t)}static relative_to_end_of_recently_added_animation(t){return 0==t?this.at_end_of_most_recently_added_animation():t>0?">+"+t:">-"+Math.abs(t)}static absolute(t){return t}}var r=s(174);class l{constructor(t){this.main_controller=t,this.selected_dot_distance_to_next=[],this._dot1_pos=new o.a,this._dot2_pos=new o.a,this.dot_pos=new o.a,this.dot_pos2d=new i.a,this.scene=this.main_controller.scene,this.ry_obj_node=this.scene.node("/null_ry"),this.selected_dots_obj_node=this.scene.node("/selected_dots"),this.selected_dots_sop_node=this.scene.node("/arcs/OUT_selected_dots")}async init(){await this._load_objects(),this._reset_css_objects()}pause(){var t;null===(t=this.master_timeline)||void 0===t||t.pause()}play(){var t;null===(t=this.master_timeline)||void 0===t||t.play()}async _load_objects(){var t;const e=this.scene.node("/css_objects/OUT"),s=await e.requestContainer();this.css_objects=null===(t=s.coreContent())||void 0===t?void 0:t.objects(),this.css_object_inner_containers=this.css_objects.map(t=>t.element.children[0]);const o=(await this.selected_dots_sop_node.requestContainer()).coreContent();if(o&&(this.selected_dots_points=o.points(),this.selected_dots_points)){this.selected_dot_distance_to_next=[],this.selected_dot_angles=[];for(let t=0;t<this.selected_dots_points.length;t++){const e=this.selected_dots_points[t],s=this.selected_dots_points[t+1];s&&(this.selected_dot_distance_to_next[t]=this._distanceBetweenDots(e,s));const o=this._angle(e);this.selected_dot_angles.push(o)}}}_reset(){this.master_timeline&&this.master_timeline.kill(),this.main_controller.materials.reset(),this.main_controller.tweens.reset(),this._reset_css_objects()}_reset_css_objects(){if(this.css_object_inner_containers)for(let t of this.css_object_inner_containers)t.style.opacity="0"}async start(){if(!this.selected_dots_points)return;this._reset(),this.master_timeline=r.a.timeline({id:"master_timeline",onComplete:()=>{setTimeout(()=>{this.start()},500)}}),window.master_timeline=this.master_timeline;let t=this.selected_dots_points.length-1+n.VISIBLE_ARCS_COUNT;for(let e=0;e<t;e++){const s=e==t-1,o=this.main_controller.timelines.create_timeline(e,s),i=0==e?void 0:_.relative_to_end_of_recently_added_animation(-3.5);this.master_timeline.add(o,i)}}_distanceBetweenDots(t,e){return t.getPosition(this._dot1_pos),e.getPosition(this._dot2_pos),this._dot1_pos.distanceTo(this._dot2_pos)}_angle(t){t.getPosition(this.dot_pos),this.selected_dots_obj_node.object.localToWorld(this.dot_pos),this.dot_pos.y=0,this.dot_pos.normalize(),this.dot_pos2d.y=this.dot_pos.x,this.dot_pos2d.x=this.dot_pos.z;let e=this.dot_pos2d.angle();return e=l.roundAngle(e),e}static roundAngle(t){for(;t>Math.PI||t<-Math.PI;)t>Math.PI&&(t=-(2*Math.PI-t)),t<-Math.PI&&(t=+(2*Math.PI-t));return t}static rotations(t){return Math.floor((t+Math.PI)/(2*Math.PI))}static nearestAngleTo(t,e){const s=this.rotations(t);return t+2*(this.rotations(e)-s)*Math.PI}}var c,d,h=s(78);!function(t){t.NONE="none",t.POWER1="power1",t.POWER2="power2",t.POWER3="power3",t.POWER4="power4",t.BACK="back",t.ELASTIC="elastic",t.BOUNCE="bounce",t.SLOW="slow",t.STEPS="steps",t.CIRC="circ",t.EXPO="expo",t.SINE="sine"}(c||(c={})),function(t){t.IN="in",t.OUT="out",t.IN_OUT="inOut"}(d||(d={}));class m{constructor(t){this.main_controller=t,this.DURATION={dots:a.a.SKIP_INTRO?.25:1/1.5*5,shadow:a.a.SKIP_INTRO?.25:2.5},this.scene=this.main_controller.scene}async init(){this._reset();const t=this.scene.node("/selected_dots/REF_cook");await t.requestContainer(),await this.scene.cookController.waitForCooksCompleted(),await class{static sleep(t){return new Promise((e,s)=>{setTimeout(()=>{e()},t)})}}.sleep(10),setTimeout(()=>{this.main_controller.html.move_profiles_to_css_objects()},1e3),this.main_controller.viewer.setAutoRender(),await this.main_controller.pre_compile.render_default_dots(),this.scene.play(),this._start_intro_animation()}_reset(){this.main_controller.materials.dots_intro.uniforms.v_POLY_param_progress_val.value=0}_start_intro_animation(){const t=r.a.timeline({onComplete:()=>{setTimeout(()=>{this._on_completed()},50)}}),e=r.a.timeline(),s=r.a.timeline(),o=this.main_controller.materials.dots_intro,i=this.main_controller.materials.bg,a=this.main_controller.materials.sphere,n=this.scene.node("/perspective_camera_MASTER");if(!n)return;o.uniforms.v_POLY_param_progress_val.value=3;const l={value:7,duration:this.DURATION.dots,ease:c.NONE};e.to(o.uniforms.v_POLY_param_progress_val,l);const h=n.object,m=h.fov;h.fov=m/1.5,h.updateProjectionMatrix();const u={fov:m,duration:this.DURATION.dots,ease:`${c.POWER3}.${d.OUT}`,onUpdate:()=>{h.updateProjectionMatrix()}};e.to(h,u,_.absolute(0));const p={opacity:this.main_controller.materials.bg_node_original_opacity,duration:this.DURATION.shadow,ease:`${c.POWER2}.${d.OUT}`};s.to(i,p,_.relative_to_end_of_recently_added_animation(-1));const v={opacity:this.main_controller.materials.sphere_original_opacity,duration:this.DURATION.shadow,ease:`${c.POWER2}.${d.OUT}`};s.to(a,v,_.absolute(0)),t.add(e),t.add(s,_.relative_to_end_of_recently_added_animation(-1))}_on_completed(){a.a.ARCS_ANIM&&(this.main_controller.materials.set_dots_to_default_mat(),this.main_controller.animation.start())}}class u{constructor(t){this.main_controller=t,this.dots=[],this._pulse_objects=[],this.scene=this.main_controller.scene,this.dots_out_sop=this.scene.node("/dots/object_properties_OUT")}async init(){var t;const e=this.scene.node("/pulses/REF_cook"),s=await e.requestContainer();this._pulse_objects=null===(t=s.coreContent())||void 0===t?void 0:t.objects();for(let t of this._pulse_objects){const e=t.material;e.uniforms.v_POLY_param_baseopacity_val.value=0,e.uniforms.v_POLY_param_radius_val.value=0}const o=(await this.dots_out_sop.requestContainer()).coreContent();o&&(this.dots=null==o?void 0:o.objectsWithGeo())}pulse_object(t){const e=this._pulse_objects[t];if(e)return e}}class p{constructor(t){this.main_controller=t,this.scene=this.main_controller.scene}async init(){await this.scene.cookController.waitForCooksCompleted(),await this.scene.node("/dots/object_properties_OUT").requestContainer()}async render_default_dots(){return new Promise(t=>{this.main_controller.materials.set_dots_to_default_mat();const e=this.main_controller.objects.dots;for(let t of e)t.position.y=-100,t.updateMatrix();setTimeout(()=>{for(let t of e)t.position.y=0,t.updateMatrix();this.main_controller.materials.set_dots_to_intro_mat(),t()},50)})}}const v={ROTATION:`${c.POWER2}.${d.IN_OUT}`,ARC:`${c.POWER2}.${d.IN_OUT}`,DOT:`${c.POWER2}.${d.IN_OUT}`,PULSE:`${c.POWER2}.${d.IN_OUT}`,CSS:`${c.POWER2}.${d.IN_OUT}`,WAVE:{RADIUS:`${c.POWER2}.${d.OUT}`,INTENSITY_UP:`${c.POWER4}.${d.OUT}`,INTENSITY_DOWN:`${c.POWER4}.${d.IN_OUT}`,TRAILS_DOWN:`${c.POWER4}.${d.IN_OUT}`}},O=1,E=1,T=2,w={GROW:1.8,FADE:1},f={RADIUS_INCREASE:4,INTENSITY_DOWN:2,TRAILS_DOWN:2};class b{constructor(t){this.main_controller=t,this.prev_rotation_angle=0,this.wave_timelines=[]}reset(){this.wave_timelines=[]}rotate_to_dot(t,e,s){if(!this.main_controller.animation.selected_dot_angles)return;if(!this.main_controller.animation.ry_obj_node)return;let o=this.main_controller.animation.selected_dot_angles[e];if(null==o)return;const i=this.prev_rotation_angle||0;o=l.nearestAngleTo(o,i);let n=Math.abs(o-i);const _=.25*Math.PI;if(n>Math.PI&&(o>i?o-=2*Math.PI:o+=2*Math.PI,n=Math.abs(o-i)),n<_)return;this.prev_rotation_angle=o;const r=1.25*n,c=this.main_controller.animation.ry_obj_node.object;a.a.MATRIX_AUTO_UPDATE&&(c.matrixAutoUpdate=!0);const d={id:"rotate",y:-o,duration:r,ease:v.ROTATION,onStart:()=>{c.matrixAutoUpdate=!0},onComplete:()=>{a.a.MATRIX_AUTO_UPDATE||(c.matrixAutoUpdate=!1)}};return t.to(c.rotation,d,s),r}show_start_dot(t,e,s){const o=this.main_controller.materials.selected_dots,i={id:"start_dot",value:e+.99,duration:0==e?3:O,ease:v.DOT,onStart:()=>{}};t.to(o.uniforms.v_POLY_param_threshold_val,i,s)}show_end_dot(t,e,s){const o=this.main_controller.materials.selected_dots,i={id:"end_dot",value:e+1.99,duration:E,ease:v.DOT};window.selected_dots_mat=o,t.to(o.uniforms.v_POLY_param_threshold_val,i,s)}grow_pulse(t,e,s){const o=this.main_controller.objects.pulse_object(e);if(!o)return;const i=o.material,a={id:"grow_pulse",value:1,duration:w.GROW,ease:v.PULSE,onStart:()=>{i.uniforms.v_POLY_param_id_val.value=e,n.reset_pulse_mat(i)}};t.to(i.uniforms.v_POLY_param_radius_val,a,s)}fade_pulse(t,e,s){const o=this.main_controller.objects.pulse_object(e);if(!o)return;const i=o.material,a={id:"fade_pulse",value:0,duration:w.FADE,ease:v.PULSE,onComplete:()=>{i.uniforms.v_POLY_param_id_val.value=-1,n.reset_pulse_mat(i)}};t.to(i.uniforms.v_POLY_param_baseopacity_val,a,s)}show_css_object(t,e,s){if(!this.main_controller.animation.css_object_inner_containers)return;const o=this.main_controller.animation.css_object_inner_containers[e];if(!o)return;const i={value:0},a={value:1,duration:T,ease:v.CSS,onUpdate:()=>{o.style.opacity=""+i.value}};t.to(i,a,s)}hide_css_object(t,e){if(!this.main_controller.animation.css_object_inner_containers)return;const s=this.main_controller.animation.css_object_inner_containers[e];if(!s)return;const o={value:1},i={value:0,duration:T,ease:v.CSS,onUpdate:()=>{s.style.opacity=""+o.value}};t.to(o,i,"<+=0")}show_arc(t,e,s){let o=this.main_controller.animation.selected_dot_distance_to_next[e]||1.6;o=Math.max(o,1.6);const i=this.main_controller.materials.arcs,a={id:"arc",value:e+1,duration:o,ease:v.ARC};return t.to(i.uniforms.v_POLY_param_threshold_val,a,s),o}start_wave(t,e,s){if(!this.main_controller.animation.selected_dots_points)return;const o=this.main_controller.animation.selected_dots_points[e+1];if(!o)return;const i=this.main_controller.materials.dots,a=o.attribValue("role"),n=this.main_controller.materials.role_colors[a],l=r.a.timeline({id:"wave-"+e,onStart:()=>{o.getPosition(i.uniforms.v_POLY_param_sparkle_center_val.value),i.uniforms.v_POLY_param_sparkle_intensity_val.value=1.4,i.uniforms.v_POLY_param_trail_intensity_val.value=2,i.uniforms.v_POLY_param_sparkle_radius_val.value=-.08,i.uniforms.v_POLY_param_sparkle_color_val.value.copy(n);const t=this.wave_timelines[e-1];t&&t.pause()}});this.wave_timelines[e]=l;const c={value:1,duration:f.RADIUS_INCREASE,ease:v.WAVE.RADIUS},d={value:0,duration:f.INTENSITY_DOWN,ease:v.WAVE.INTENSITY_DOWN},h={value:0,duration:f.INTENSITY_DOWN,ease:v.WAVE.INTENSITY_DOWN};l.to(i.uniforms.v_POLY_param_sparkle_radius_val,c),l.to(i.uniforms.v_POLY_param_sparkle_intensity_val,d,_.absolute(1)),l.to(i.uniforms.v_POLY_param_trail_intensity_val,h,_.absolute(2)),t.add(l,s)}}class N{constructor(t){this.main_controller=t}create_timeline(t,e){const s=r.a.timeline({id:"main-"+t});s.add(this._start_dot_timeline(t));return s.add(this._arc_timeline(t),_.relative_to_end_of_recently_added_animation(-1)),s.add(this._end_dot_timeline(t,e),_.relative_to_end_of_recently_added_animation(-.75)),s}_start_dot_timeline(t){const e=r.a.timeline({id:"start_dot-"+t}),s=this._rotate_to_start_dot(e,t);return 0==t&&(this._show_start_dot(e,t,s),this._show_start_css_object(e,t)),e}_arc_timeline(t){const e=r.a.timeline({id:"arc-"+t});return this._rotate_to_end_dot(e,t),this._show_arc(e,t),this._pulse_timeline(e,t-1),e}_end_dot_timeline(t,e){const s=r.a.timeline({id:"end_dot-"+t});return this._show_end_dot(s,t),this._show_end_css_object(s,t+1),this._hide_css_object(s,t),e&&this._show_end_dot(s,t+1),e||this._start_wave(s,t),s}_rotate_to_start_dot(t,e){if(0==e)return this.main_controller.tweens.rotate_to_dot(t,e)}_show_start_dot(t,e,s){this.main_controller.tweens.show_start_dot(t,e,_.absolute(.5))}_show_end_dot(t,e){this.main_controller.tweens.show_end_dot(t,e)}_rotate_to_end_dot(t,e,s){this.main_controller.tweens.rotate_to_dot(t,e+1)}_show_arc(t,e){this.main_controller.tweens.show_arc(t,e,_.absolute(.4))}_show_start_css_object(t,e){this.main_controller.tweens.show_css_object(t,e,_.relative_to_start_of_recently_added_animation(0))}_show_end_css_object(t,e){this.main_controller.tweens.show_css_object(t,e,_.absolute(0))}_hide_css_object(t,e){this.main_controller.tweens.hide_css_object(t,e)}_pulse_timeline(t,e){const s=r.a.timeline({id:"pulse-"+e});this.main_controller.tweens.grow_pulse(s,e,_.absolute(0)),this.main_controller.tweens.fade_pulse(s,e,_.relative_to_end_of_recently_added_animation(-w.FADE)),t.add(s,_.relative_to_start_of_recently_added_animation(-.5))}_start_wave(t,e){this.main_controller.tweens.start_wave(t,e,_.absolute(.35))}}class P{constructor(t){this.mainController=t,this.bound_listener=this.on_scroll.bind(this)}destroy(){this.remove_events()}init(){this.set_onscroll_events(),setTimeout(()=>{this.check_globe_visibility()},500)}reset(){this.init()}set_onscroll_events(){window.addEventListener("scroll",this.bound_listener,!1)}remove_events(){window.removeEventListener("scroll",this.bound_listener)}on_scroll(){this.check_globe_visibility()}check_globe_visibility(){(class{static intersectsWithViewport(t){var e=t.offsetTop,s=t.offsetLeft,o=t.offsetWidth,i=t.offsetHeight;return e<window.pageYOffset+window.innerHeight&&s<window.pageXOffset+window.innerWidth&&e+i>window.pageYOffset&&s+o>window.pageXOffset}}).intersectsWithViewport(this.mainController.element)?this.play():this.pause()}pause(){this.mainController.pause()}play(){this.mainController.play()}}class I{constructor(t,e,s){this.scene=t,this.viewer=e,this.element=s,this.animation=new l(this),this.html=new h.HTMLController(this),this.intro=new m(this),this.materials=new n(this),this.objects=new u(this),this.pre_compile=new p(this),this.timelines=new N(this),this.tweens=new b(this),this.visibility=new P(this),this._playing=!0,this._debug=!1,t.setFrame(0)}async init(){this.visibility.init(),await this.objects.init(),await this.pre_compile.init(),await this.materials.init(),await this.animation.init(),await this.intro.init()}setDebug(t){this._debug=t}pause(){this._playing&&(this._playing=!1,this._debug&&console.log("globe pause"),this.viewer.setAutoRender(!1),this.animation.pause())}play(){this._playing||(this._playing=!0,this._debug&&console.log("globe play"),this.viewer.setAutoRender(!0),this.animation.play())}}},54:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var o=s(78);class i{static not_transparent(){const t=window.location.search;return"0"==new URLSearchParams(t).get("transparent")}static small(){const t=window.location.search;return"1"==new URLSearchParams(t).get("small")}static mock_html(){const t=window.location.search;return"1"==new URLSearchParams(t).get("mock_html")}static init(){if(this.small()){const t=document.getElementById(o.HTMLController.ID_APP);t&&t.classList.add("small")}}}i.SKIP_INTRO=!1,i.ARCS_ANIM=!0,i.MATRIX_AUTO_UPDATE=!0,i.GSAP_DEBUG=!0},78:function(t,e,s){"use strict";s.r(e),s.d(e,"HTMLController",(function(){return h}));var o,i,a=s(54),n=s(37),_=s(3);!function(t){t[t.STRATEGY=0]="STRATEGY",t[t.DESIGN=1]="DESIGN",t[t.DEVELOPMENT=2]="DEVELOPMENT",t[t.MARKETING=3]="MARKETING",t[t.PRODUCTION=4]="PRODUCTION",t[t.TECHNOLOGY=5]="TECHNOLOGY"}(o||(o={})),function(t){t.STRATEGY="Strategy",t.DESIGN="Design",t.DEVELOPMENT="Development",t.MARKETING="Marketing",t.PRODUCTION="Production",t.TECHNOLOGY="Technology"}(i||(i={}));const r=[i.STRATEGY,i.DESIGN,i.DEVELOPMENT,i.MARKETING,i.PRODUCTION,i.TECHNOLOGY];var l;!function(t){t.NEW_YORK="new_york",t.LONDON="london",t.BERLIN="berlin",t.KIEV="kiev",t.BOSTON="boston",t.TEL_AVIV="tel_aviv",t.BANGALORE="bangalore",t.BANGKOK="bangkok",t.SYDNEY="sydney",t.SEATTLE="seattle",t.SAN_JOSE="san_jose",t.MEDELLIN="medellin",t.BUENOS_AIRES="buenos_aires",t.CAPE_TOWN="cape_town"}(l||(l={}));const c=new Map;c.set(l.NEW_YORK,{role:o.STRATEGY,tag:"Digital Strategist",rx:-13,ry:-5.1}),c.set(l.LONDON,{role:o.DESIGN,tag:"UI/UX Designer",rx:-24,ry:67.2}),c.set(l.BERLIN,{role:o.TECHNOLOGY,tag:"DevOps Engineer",rx:-25.22,ry:80.7}),c.set(l.KIEV,{role:o.DEVELOPMENT,tag:"Front-End Developer",rx:203,ry:-82}),c.set(l.BOSTON,{role:o.MARKETING,tag:"Digital Marketer",rx:-17,ry:.7}),c.set(l.TEL_AVIV,{role:o.TECHNOLOGY,tag:"Blockchain Architect",rx:-4.9,ry:101.9}),c.set(l.BANGALORE,{role:o.DEVELOPMENT,tag:"iOS Developer",rx:7,ry:-219.2}),c.set(l.BANGKOK,{role:o.PRODUCTION,tag:"3D Animator",rx:8.5,ry:-197}),c.set(l.SYDNEY,{role:o.TECHNOLOGY,tag:"SEO Specialist",rx:46.2,ry:212}),c.set(l.SEATTLE,{role:o.MARKETING,tag:"Product Manager",rx:-21.6,ry:310}),c.set(l.SAN_JOSE,{role:o.STRATEGY,tag:"Creative Director",rx:-5.8,ry:-41.1}),c.set(l.MEDELLIN,{role:o.DEVELOPMENT,tag:"Full-Stack Developer",rx:17.3,ry:-3.6}),c.set(l.BUENOS_AIRES,{role:o.PRODUCTION,tag:"Character Artist",rx:50,ry:13.2}),c.set(l.CAPE_TOWN,{role:o.MARKETING,tag:"Copywriter",rx:46.1,ry:445});class d{constructor(){this.silos=[],this.locations=[l.NEW_YORK,l.LONDON,l.CAPE_TOWN,l.BANGALORE,l.SYDNEY,l.SEATTLE,l.BUENOS_AIRES,l.BERLIN,l.BANGKOK,l.SAN_JOSE,l.MEDELLIN,l.BOSTON,l.TEL_AVIV,l.KIEV],this._core_transform=new n.a,this.T=new _.a(0,0,0),this.S=new _.a(1,1,1);for(let t of this.locations){const e=c.get(t);e&&this.silos.push(e)}}data(){return this.silos.map(t=>this._silo_data(t))}_silo_data(t){const e=new _.a(0,0,1);return e.applyMatrix4(this._matrix(t.rx,0)),e.applyMatrix4(this._matrix(0,t.ry)),{role:t.role,position:e.toArray()}}_matrix(t,e){return this._core_transform.matrix(this.T,new _.a(t,e,0),this.S,1,n.c.XYZ)}}class h{constructor(t){this.main_controller=t}move_profiles_to_css_objects(){const t=document.getElementById(h.ID_APP);if(!t)return void console.warn("no element with id "+h.ID_APP);const e=document.getElementById(h.ID_PROFILES);if(!e)return void console.warn("no element with id "+h.ID_PROFILES);a.a.mock_html()&&this._create_profile_templates(e);const s=t.children[0],o=new d,i=o.silos,n=o.locations;for(let t=0;t<i.length;t++){const o=n[t],i=s.children[t];if(i){const t=`[data-location=${o}]`,s=e.querySelector(t);if(s){const t=s.children[0],e=i.children[0];e.innerHTML="",e.appendChild(t.cloneNode(!0))}}else console.warn("webgl-globe, missing html element",t)}}_create_profile_templates(t){c.forEach((e,s)=>{const o=this._profile_template({role:e.role,location:s});t.append(o)})}_profile_template(t){const e=document.createElement("div");e.classList.add("wrapper"),e.dataset.location=t.location;const s=document.createElement("div");s.classList.add("globe-profile");const o=document.createElement("img");o.classList.add("globe-profile-thumbnail"),o.setAttribute("src","/images/profiles/profile_test.01.128.jpg"),s.append(o);const i=document.createElement("div");i.classList.add("globe-profile-body");const a=document.createElement("div");a.classList.add("globe-profile-title-and-name");const n=document.createElement("div");n.classList.add("globe-profile-title");const _=document.createElement("div");_.classList.add("globe-profile-name");const l=document.createElement("span");l.classList.add("globe-profile-tag");const c=r[t.role];return l.classList.add(""+c.toString().toLowerCase()),l.innerText=c.toString().toLowerCase(),a.append(n),a.append(_),i.append(a),i.append(l),s.append(i),e.append(s),e}}h.ID_APP="webgl-globe-app",h.ID_PROFILES="webgl-globe-profiles"}}]);
//# sourceMappingURL=MainController.bundle.fda87c5a7877e101b399.js.map