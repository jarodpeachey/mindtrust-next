!function(e){function n(n){for(var r,o,s=n[0],a=n[1],i=0,c=[];i<s.length;i++)o=s[i],Object.prototype.hasOwnProperty.call(t,o)&&t[o]&&c.push(t[o][0]),t[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(l&&l(n);c.length;)c.shift()()}var r={},t={"globe-integration":0};function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(e){var n=[],r=t[e];if(0!==r)if(r)n.push(r[2]);else{var s=new Promise((function(n,o){r=t[e]=[n,o]}));n.push(r[2]=s);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=function(e){return o.p+""+({SceneDataManifestImporter:"SceneDataManifestImporter",three:"three",HTMLController:"HTMLController",lodash:"lodash","vendors~PolyRegister~SceneJsonImporter":"vendors~PolyRegister~SceneJsonImporter","vendors~PolyRegister":"vendors~PolyRegister",PolyRegister:"PolyRegister","vendors~SceneJsonImporter":"vendors~SceneJsonImporter","vendors~MainController":"vendors~MainController",MainController:"MainController"}[e]||e)+".bundle.fda87c5a7877e101b399.js"}(e);var l=new Error;a=function(n){i.onerror=i.onload=null,clearTimeout(c);var r=t[e];if(0!==r){if(r){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",l.name="ChunkLoadError",l.type=o,l.request=s,r[1](l)}t[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(n)},o.m=e,o.c=r,o.d=function(e,n,r){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)o.d(r,t,function(n){return e[n]}.bind(null,t));return r},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="/js/webgl_globe/",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],a=s.push.bind(s);s.push=n,s=s.slice();for(var i=0;i<s.length;i++)n(s[i]);var l=a;o(o.s=2)}([function(e,n,r){"use strict";r.d(n,"a",(function(){return t}));const t="/media/webgl_globe/"},function(e){e.exports=JSON.parse('{"properties":"1613935654288","root":"1613943857964","nodes":{"COP":"1613519301876","dots":"1613943661418","MAT":"1613943857964","MAT/mesh_basic_builder_DOTS":"1613952636852","MAT/mesh_basic_builder_ARCS":"1613952636852","MAT/mesh_basic_builder_SELECTED_DOTS":"1613952636852","MAT/mesh_basic_builder_DOTS_intro":"1613952636852","MAT/mesh_basic_builder_pulse_shadow":"1613952636852","perspective_camera_MASTER":"1613776336223","perspective_camera_MASTER/renderers1":"1613773138092","globe_shadow":"1613519301876","arcs":"1613955132506","selected_dots":"1613936027085","css_objects":"1613935654288","globe_self_shadow":"1613750055007","pulses":"1613944860562","perspectiveCamera_DEBUG":"1613943857964","perspectiveCamera_DEBUG/events1":"1613935097707"}}')},function(e,n,r){"use strict";r.r(n);var t=r(0);const o=r(1);async function s(){const{PolyRegister:e}=await Promise.all([r.e("three"),r.e("lodash"),r.e("vendors~PolyRegister~SceneJsonImporter"),r.e("vendors~PolyRegister"),r.e("PolyRegister")]).then(r.bind(null,321));return e}async function a(){const{SceneJsonImporter:e}=await Promise.all([r.e("three"),r.e("lodash"),r.e("vendors~PolyRegister~SceneJsonImporter"),r.e("vendors~SceneJsonImporter")]).then(r.bind(null,319));return e}async function i(){const{HTMLController:e}=await Promise.all([r.e("three"),r.e("HTMLController")]).then(r.bind(null,78));return e}async function l(){const{MainController:e}=await Promise.all([r.e("three"),r.e("vendors~MainController"),r.e("MainController")]).then(r.bind(null,320));return e}async function c(){const e=[s(),a(),l(),i()],n=await Promise.all(e);return{PolyRegister:n[0],SceneJsonImporter:n[1],MainController:n[2],HTMLController:n[3]}}async function u(){const e=await async function(){const{SceneDataManifestImporter:e}=await r.e("SceneDataManifestImporter").then(r.bind(null,318));return e}();return await e.importSceneData({manifest:o,urlPrefix:t.a+"/polygonjs/scenes/default"})}async function d(){const e=["bg.1024.png","land.512.jpg","f.512.jpg"].map(e=>`${t.a}/tex/${e}`).map(e=>fetch(e)),n=await Promise.all(e);return{bg:n[0],land:n[1],f:n[2]}}(new class{constructor(){this._sceneLoaded=!1}async load(){document.addEventListener("DOMContentLoaded",()=>{this.loadScene()}),this.loadScene()}async loadScene(){if(this._sceneLoaded)return;this._sceneLoaded=!0;const e=performance.now(),n=await async function(){const e=[u(),c(),d()],n=await Promise.all(e);return{sceneData:n[0],js:n[1]}}(),{PolyRegister:r,SceneJsonImporter:o,MainController:s,HTMLController:a}=n.js;r.run();const i=new o(n.sceneData),l=await i.scene();l.assets.setRoot(t.a),l.node("/COP/file_bg_shadow").requestContainer(),l.node("/COP/file_f").requestContainer(),l.node("/COP/file_land").requestContainer();const f=l.node("/perspective_camera_MASTER");if(!f)return void console.warn("no master camera found");const p=document.getElementById(a.ID_APP);if(!p)return void console.warn("no element to mount the viewer onto");const m=new s(l,f.createViewer(p,{autoRender:!1}),p);window.globe=m,console.log("[webgl globe] scene build time:",performance.now()-e),m.init()}}).load()}]);
//# sourceMappingURL=globe-integration.fda87c5a7877e101b399.js.map